# æœ¬å…¬å¸81_æ•°ç”µä¸“ç¥¨â†’é•¿è½¯09(QDLX=20) å­—æ®µæ˜ å°„è¡¨

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-12-30
**å‘ç¥¨ç±»åž‹**: 81 - ç”µå­å‘ç¥¨(å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨) / æ•°å­—åŒ–ç”µå­å‘ç¥¨-å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨

---

## ðŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†æœ¬å…¬å¸å‘ç¥¨æŸ¥éªŒAPIä¸Žé•¿è½¯å‘ç¥¨æŸ¥éªŒæœåŠ¡ä¹‹é—´ï¼Œé’ˆå¯¹"æ•°ç”µä¸“ç¥¨"çš„å®Œæ•´å­—æ®µæ˜ å°„å…³ç³»ã€‚

- **æœ¬å…¬å¸API**: invoice_verification.apifox.json (RESTful JSONæ ¼å¼)
- **é•¿è½¯API**: ã€é•¿è½¯ã€‘å‘ç¥¨æŸ¥éªŒæœåŠ¡è°ƒç”¨è¯´æ˜ŽV4.0.16.pdf (XMLæ ¼å¼)
- **æœ¬å…¬å¸å‘ç¥¨ç±»åž‹ä»£ç **: 81
- **é•¿è½¯å‘ç¥¨ç±»åž‹ä»£ç **: 09 (æ•°ç”µå‘ç¥¨)
- **é•¿è½¯æ•°ç”µå‘ç¥¨ç±»åž‹**: QDLX=20 (ä¸“ç¥¨)
- **é•¿è½¯æ–‡æ¡£ç« èŠ‚**: 3.2.3.9

### ä¾èµ–çš„é€šç”¨æ–‡æ¡£

æœ¬æ˜ å°„è¡¨å¼•ç”¨ä»¥ä¸‹é€šç”¨æ–‡æ¡£ï¼Œä½¿ç”¨å‰è¯·å…ˆäº†è§£ï¼š
- ðŸ“„ [00_é€šç”¨è¯´æ˜Ž_è¯·æ±‚å‚æ•°æ˜ å°„.md](./00_é€šç”¨è¯´æ˜Ž_è¯·æ±‚å‚æ•°æ˜ å°„.md) - æŸ¥éªŒè¯·æ±‚å‚æ•°æ˜ å°„
- ðŸ“„ [00_é€šç”¨è¯´æ˜Ž_æžšä¸¾æ˜ å°„.md](./00_é€šç”¨è¯´æ˜Ž_æžšä¸¾æ˜ å°„.md) - é€šç”¨æžšä¸¾å€¼æ˜ å°„ï¼ˆCYJGDM, ZFBZ, TSPZBZç­‰ï¼‰

---

## ä¸€ã€ç±»åž‹æ˜ å°„å…³ç³»

| é¡¹ç›® | æœ¬å…¬å¸API | é•¿è½¯API | è¯´æ˜Ž |
|------|-----------|---------|------|
| å‘ç¥¨ç±»åž‹ä»£ç  | `81` | `09` | é•¿è½¯æ•°ç”µå‘ç¥¨ç»Ÿä¸€ç±»åž‹ä»£ç  |
| æ•°ç”µå‘ç¥¨å­ç±»åž‹ | - | `QDLX=20` | **å…³é”®**ï¼šé•¿è½¯ç”¨QDLXåŒºåˆ†æ•°ç”µå­ç±»åž‹ |
| å‘ç¥¨ç±»åž‹åç§° | ç”µå­å‘ç¥¨(å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨) | æ•°ç”µå‘ç¥¨(ä¸“ç¥¨) | |
| æ•°æ®ç»“æž„å®šä¹‰ | `#/definitions/231697052` | `3.2.3.9` | æœ¬å®šä¹‰ä¹ŸåŒ…å«82/85/86ç±»åž‹ |
| å‘ç¥¨ä»‹è´¨ | å…¨ç”µå­ | å…¨ç”µå­ | æ— çº¸è´¨å‘ç¥¨ä»£ç  |

---

## äºŒã€å‘ç¥¨ä¸»ä¿¡æ¯å­—æ®µæ˜ å°„

### 2.1 å®Œæ•´å­—æ®µå¯¹ç…§è¡¨

âš ï¸ **é‡è¦**: æœ¬è¡¨æ ¼åŒ…å«è¯¥å‘ç¥¨ç±»åž‹çš„**æ‰€æœ‰å“åº”å­—æ®µ**ï¼Œè¯·é€ä¸€æ ¸å¯¹ã€‚

| æœ¬å…¬å¸APIå­—æ®µè·¯å¾„ | æœ¬å…¬å¸APIä¸­æ–‡å | æœ¬å…¬å¸APIç±»åž‹ | é•¿è½¯APIå­—æ®µè·¯å¾„ | é•¿è½¯APIä¸­æ–‡å | é•¿è½¯APIç±»åž‹ | æ˜ å°„è¯´æ˜Ž |
|---|---|---|---|---|---|---|
| `invoice_number` | å‘ç¥¨å·ç  | string(20) | `BODY/FPHM` | å‘ç¥¨å·ç  | VARCHAR2(20) | ç›´æŽ¥æ˜ å°„ï¼Œæ•°ç”µç¥¨å·20ä½ |
| `invoice_code` | çº¸è´¨å‘ç¥¨ä»£ç  | string(12) | `BODY/FPDM` | å‘ç¥¨ä»£ç  | VARCHAR2(20) | **æ•°ç”µä¸“ç¥¨æ— å‘ç¥¨ä»£ç **ï¼ŒFPDMä¸ºç©º |
| `paper_invoice_no` | çº¸è´¨å‘ç¥¨å·ç  | string(20) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œæ•°ç”µç¥¨æ— æ­¤å­—æ®µ |
| - | - | - | `BODY/CYCS` | æŸ¥éªŒæ¬¡æ•° | VARCHAR2(32) | **é•¿è½¯ç‹¬æœ‰**ï¼Œè®°å½•æŸ¥éªŒæ¬¡æ•° |
| `issue_date` | å¼€ç¥¨æ—¥æœŸ | string(19) | `BODY/KPRQ` | å¼€ç¥¨æ—¥æœŸ | VARCHAR2(32) | æ ¼å¼è½¬æ¢ï¼šYYYY-MM-DD â† YYYYMMDD |
| `buyer_name` | è´­ä¹°æ–¹åç§° | string(150) | `BODY/GFMC` | è´­æ–¹åç§° | VARCHAR2(300) | ç›´æŽ¥æ˜ å°„ |
| `buyer_tax_no` | è´­ä¹°æ–¹è¯†åˆ«å· | string(20) | `BODY/GFSBH` | è´­æ–¹çº³ç¨Žäººè¯†åˆ«å· | VARCHAR2(64) | ç›´æŽ¥æ˜ å°„ |
| `buyer_address` | è´­ä¹°æ–¹åœ°å€ | string(300) | `BODY/GFDZDH` | è´­æ–¹åœ°å€ã€ç”µè¯ | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `buyer_phone` | è´­ä¹°æ–¹ç”µè¯ | string(60) | `BODY/GFDZDH` | è´­æ–¹åœ°å€ã€ç”µè¯ | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `buyer_bank_name` | è´­ä¹°æ–¹å¼€æˆ·è¡Œ | string(120) | `BODY/GFYHZH` | è´­æ–¹å¼€æˆ·è¡ŒåŠè´¦å· | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `buyer_account_number` | è´­ä¹°æ–¹è´¦å· | string(100) | `BODY/GFYHZH` | è´­æ–¹å¼€æˆ·è¡ŒåŠè´¦å· | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `seller_name` | é”€å”®æ–¹åç§° | string(150) | `BODY/XFMC` | é”€æ–¹åç§° | VARCHAR2(300) | ç›´æŽ¥æ˜ å°„ |
| `seller_tax_no` | é”€å”®æ–¹è¯†åˆ«å· | string(20) | `BODY/XFSBH` | é”€æ–¹çº³ç¨Žäººè¯†åˆ«å· | VARCHAR2(26) | ç›´æŽ¥æ˜ å°„ |
| `seller_address` | é”€è´§æ–¹åœ°å€ | string(250) | `BODY/XFDZDH` | é”€æ–¹åœ°å€ç”µè¯ | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `seller_phone` | é”€å”®æ–¹ç”µè¯ | string(60) | `BODY/XFDZDH` | é”€æ–¹åœ°å€ç”µè¯ | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `seller_bank_name` | é”€å”®æ–¹å¼€æˆ·è¡Œ | string(120) | `BODY/XFYHZH` | é”€æ–¹å¼€æˆ·è¡ŒåŠè´¦å· | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| `seller_account_number` | é”€å”®æ–¹è´¦å· | string(100) | `BODY/XFYHZH` | é”€æ–¹å¼€æˆ·è¡ŒåŠè´¦å· | VARCHAR2(120) | **é•¿è½¯å­—æ®µä¸ºç©º** |
| - | - | - | `BODY/JE` | é‡‘é¢åˆè®¡ | VARCHAR2(32) | **é•¿è½¯ç‹¬æœ‰**ï¼Œæœ¬å…¬å¸ä»Žitemsè®¡ç®— |
| `total_tax_amount` | åˆè®¡ç¨Žé¢ | number(18,2) | `BODY/SE` | ç¨Žé¢åˆè®¡ | VARCHAR2(32) | ç±»åž‹è½¬æ¢ï¼šé•¿è½¯ä¸ºå­—ç¬¦ä¸² |
| `total_amount` | ä»·ç¨Žåˆè®¡ | number(18,2) | `BODY/JSHJ` | ä»·ç¨Žåˆè®¡ | VARCHAR2(32) | ç±»åž‹è½¬æ¢ï¼šé•¿è½¯ä¸ºå­—ç¬¦ä¸² |
| `amount_with_tax_in_words` | ä»·ç¨Žåˆè®¡(å¤§å†™) | string(300) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œéœ€è‡ªè¡Œè®¡ç®— |
| `remark` | å¤‡æ³¨ | string(450) | `BODY/BZ` | å¤‡æ³¨ | VARCHAR2(610) | ç›´æŽ¥æ˜ å°„ |
| - | - | - | `BODY/SDSJBZ` | æ•°ç”µå‘ç¥¨å®žé™…å¤‡æ³¨ | VARCHAR2(750) | **é•¿è½¯ç‹¬æœ‰**ï¼Œæ•°ç”µç¥¨ç‰¹æœ‰å¤‡æ³¨ |
| - | - | - | `BODY/JQBH` | æœºå™¨ç¼–å· | VARCHAR2(16) | **é•¿è½¯å­—æ®µä¸ºç©º**ï¼Œæ•°ç”µç¥¨æ— ç¨ŽæŽ§è®¾å¤‡ |
| - | - | - | `BODY/JYM` | æ ¡éªŒç  | VARCHAR2(32) | **é•¿è½¯å­—æ®µä¸ºç©º**ï¼Œæ•°ç”µç¥¨æ— æ ¡éªŒç  |
| `invoice_status` | å‘ç¥¨çŠ¶æ€ | æžšä¸¾ | `BODY/ZFBZ` | ä½œåºŸæ ‡å¿— | VARCHAR2(2) | æžšä¸¾æ˜ å°„ï¼šå‚è§é€šç”¨æžšä¸¾æ–‡æ¡£ |
| - | - | - | `BODY/CPYBZ` | æˆå“æ²¹æ ‡å¿— | VARCHAR2(2) | åºŸæ­¢ï¼Œä»¥TSPZBZä¸ºå‡† |
| - | - | - | `BODY/CYSJ` | æŸ¥éªŒæ—¶é—´ | VARCHAR2(20) | **é•¿è½¯ç‹¬æœ‰**ï¼ŒæŸ¥éªŒæ—¶é—´æˆ³ |
| - | - | - | `BODY/QDBZ` | æ¸…å•æ ‡å¿— | VARCHAR2(2) | **é•¿è½¯ç‹¬æœ‰**ï¼Œå‚è§é€šç”¨æžšä¸¾ |
| - | - | - | `BODY/TSPZBZ` | ç‰¹æ®Šç¥¨ç§æ ‡å¿— | VARCHAR2(2) | æžšä¸¾æ˜ å°„ï¼šå‚è§é€šç”¨æžšä¸¾æ–‡æ¡£ |
| - | - | - | `BODY/HZDK` | æ±‡æ€»ä»£å¼€æ ‡å¿— | VARCHAR2(2) | **é•¿è½¯ç‹¬æœ‰**ï¼Œå‚è§é€šç”¨æžšä¸¾ |
| `issuer` | å¼€ç¥¨äºº | string(300) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œæ•°ç”µç¥¨æ— æ­¤å­—æ®µ |
| `reviewer` | å¤æ ¸äººå§“å | string(75) | `BODY/SDFHR` | æ•°ç”µå‘ç¥¨å¤æ ¸äºº | VARCHAR2(150) | ç›´æŽ¥æ˜ å°„ï¼Œå¯ç©º |
| `payee` | æ”¶æ¬¾äººå§“å | string(150) | `BODY/SDSKR` | æ•°ç”µå‘ç¥¨æ”¶æ¬¾äºº | VARCHAR2(150) | ç›´æŽ¥æ˜ å°„ï¼Œå¯ç©º |
| `is_blue_invoice` | è“å­—/çº¢å­—æ ‡è¯† | æžšä¸¾(Y/N) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œä»ŽZFBZæŽ¨æ–­ |
| `original_blue_invoice_no` | å¯¹åº”è“å­—å‘ç¥¨å·ç  | string(20) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œçº¢ç¥¨æ—¶å¡«å†™ |
| `seller_taxpayer_type_code` | é”€æ–¹çº³ç¨Žäººç±»åž‹ä»£ç  | string | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œ1=ä¸€èˆ¬çº³ç¨Žäºº |
| `item_count` | æ˜Žç»†æ¡æ•° | integer | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œitemsæ•°ç»„é•¿åº¦ |
| `deduction_amount` | æ‰£é™¤é¢ | number(18,2) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œå·®é¢å¾ç¨Žæ‰£é™¤é¢ |
| `settlement_method_code` | ç»“ç®—æ–¹å¼ | string(2) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |
| `vat_immediate_refund_code` | å¢žå€¼ç¨Žå³å¾å³é€€ä»£ç  | string(2) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |
| `export_tax_refund_type_code` | å‡ºå£é€€ç¨Žç±»ä»£ç  | string(2) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |
| `refined_oil_abnormal_flag` | æˆå“æ²¹å¼‚å¸¸æ ‡è¯† | string(1) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œ9=æ­£å¸¸ |
| - | - | - | `HEAD/CYJGDM` | æŸ¥éªŒç»“æžœä»£ç  | VARCHAR(3) | **å…³é”®å­—æ®µ**ï¼ŒæŸ¥éªŒçŠ¶æ€ç ï¼Œå‚è§é€šç”¨æžšä¸¾æ–‡æ¡£ |

**å­—æ®µåˆ†ç±»è¯´æ˜Ž**ï¼š
- **ç›´æŽ¥æ˜ å°„**: å­—æ®µåå’Œå«ä¹‰ä¸€è‡´ï¼Œç›´æŽ¥å¯¹åº”
- **æ ¼å¼è½¬æ¢**: éœ€è¦è¿›è¡Œæ ¼å¼è½¬æ¢ï¼ˆå¦‚æ—¥æœŸã€é‡‘é¢æ ¼å¼ï¼‰
- **ç±»åž‹è½¬æ¢**: éœ€è¦è¿›è¡Œæ•°æ®ç±»åž‹è½¬æ¢ï¼ˆå¦‚string â†” numberï¼‰
- **é•¿è½¯ç‹¬æœ‰**: é•¿è½¯APIç‹¬æœ‰å­—æ®µï¼Œæœ¬å…¬å¸APIæ— æ­¤å­—æ®µ
- **æœ¬å…¬å¸ç‹¬æœ‰**: æœ¬å…¬å¸APIç‹¬æœ‰å­—æ®µï¼Œéœ€ä»Žå…¶ä»–æ•°æ®æºèŽ·å–æˆ–è®¡ç®—
- **é•¿è½¯å­—æ®µä¸ºç©º**: æ•°ç”µç¥¨ç‰¹æ€§å¯¼è‡´é•¿è½¯ä¹Ÿè¿”å›žç©ºå€¼

### 2.2 æœ¬å…¬å¸ç‹¬æœ‰å­—æ®µå¤„ç†è¯´æ˜Ž

| æœ¬å…¬å¸å­—æ®µ | æ•°æ®æ¥æº | å¤„ç†é€»è¾‘ |
|-----------|---------|----------|
| `amount_with_tax_in_words` | è®¡ç®—å¾—å‡º | å°†total_amountæ•°å­—è½¬æ¢ä¸ºä¸­æ–‡å¤§å†™ |
| `item_count` | è®¡ç®—å¾—å‡º | itemsæ•°ç»„é•¿åº¦ï¼Œå³æ˜Žç»†æ¡æ•° |
| `is_blue_invoice` | æŽ¨æ–­å¾—å‡º | æ ¹æ®ZFBZåˆ¤æ–­ï¼š0/1â†’Y(è“å­—)ï¼Œ3/7/8â†’N(çº¢å­—) |
| `original_blue_invoice_no` | ä¸šåŠ¡ç³»ç»Ÿ | çº¢å­—å‘ç¥¨å¯¹åº”çš„åŽŸè“å­—å‘ç¥¨å·ï¼Œä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å– |
| `seller_taxpayer_type_code` | ä¸šåŠ¡è§„åˆ™ | æ•°ç”µä¸“ç¥¨ä¸€èˆ¬éƒ½æ˜¯ä¸€èˆ¬çº³ç¨Žäººå¼€å…·ï¼Œå›ºå®šä¸º"1" |
| `deduction_amount` | è®¡ç®—å¾—å‡º | å·®é¢å¾ç¨Žæ—¶çš„æ‰£é™¤é¢ï¼Œä»Žitemsä¸­è®¡ç®— |
| `issuer` | - | æ•°ç”µç¥¨æ— å¼€ç¥¨äººå­—æ®µï¼Œè¿”å›žnull |
| `paper_invoice_no` | - | æ•°ç”µç¥¨æ— çº¸è´¨å·ç ï¼Œè¿”å›žnull |
| `refined_oil_abnormal_flag` | ä¸šåŠ¡è§„åˆ™ | æˆå“æ²¹å¼‚å¸¸æ ‡è¯†ï¼Œéžæˆå“æ²¹ç¥¨å›ºå®šä¸º"9" |

---

## ä¸‰ã€è´§ç‰©/æ˜Žç»†å­—æ®µæ˜ å°„

### 3.1 æ˜Žç»†ç»“æž„è¯´æ˜Ž

**æœ¬å…¬å¸APIè·¯å¾„**: `items[]`
**é•¿è½¯APIè·¯å¾„**: `BODY/CHILDLIST/CHILD[]`

âš ï¸ **æ³¨æ„**:
- âœ… **æ•°ç”µä¸“ç¥¨æœ‰è´§ç‰©æ˜Žç»†ç»“æž„**
- æ˜Žç»†æ•°æ®è®°å½•è´§ç‰©æˆ–åº”ç¨ŽåŠ³åŠ¡çš„è¯¦ç»†ä¿¡æ¯
- ä¸€å¼ å‘ç¥¨å¯ä»¥æœ‰å¤šä¸ªæ˜Žç»†è¡Œ
- æ•°ç”µç¥¨æ˜Žç»†å­—æ®µä¸Žä¼ ç»Ÿä¸“ç¥¨å®Œå…¨ä¸€è‡´

### 3.2 å®Œæ•´æ˜Žç»†å­—æ®µå¯¹ç…§è¡¨

| æœ¬å…¬å¸APIå­—æ®µ | æœ¬å…¬å¸APIä¸­æ–‡å | æœ¬å…¬å¸APIç±»åž‹ | é•¿è½¯APIå­—æ®µ | é•¿è½¯APIä¸­æ–‡å | é•¿è½¯APIç±»åž‹ | æ˜ å°„è¯´æ˜Ž |
|---|---|---|---|---|---|---|
| `sequence_no` | åºå· | integer | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œç”¨äºŽæŽ’åº |
| `name` / `goods_or_service_name` | è´§ç‰©æˆ–åº”ç¨ŽåŠ³åŠ¡åç§° | string(300/600) | `HWMC` | è´§ç‰©æˆ–åº”ç¨ŽåŠ³åŠ¡åç§° | VARCHAR2(320) | ç›´æŽ¥æ˜ å°„ |
| `specification` | è§„æ ¼åž‹å· | string(150) | `GGXH` | è§„æ ¼åž‹å· | VARCHAR2(64) | ç›´æŽ¥æ˜ å°„ |
| `unit` | å•ä½ | string(300) | `DW` | å•ä½ | VARCHAR2(52) | ç›´æŽ¥æ˜ å°„ |
| `quantity` | å‘ç¥¨äº¤æ˜“æ•°é‡ | string(25) | `SL` | æ•°é‡ | VARCHAR2(25) | ç›´æŽ¥æ˜ å°„ |
| `unit_price` | å‘ç¥¨äº¤æ˜“å•ä»· | string(25) | `DJ` | å•ä»· | VARCHAR2(25) | ç›´æŽ¥æ˜ å°„ |
| `amount` | é‡‘é¢ | number(8,2) | `JE` | é‡‘é¢ | NUMBER(20,2) | ç›´æŽ¥æ˜ å°„ |
| `tax_rate` | ç¨ŽçŽ‡ | number(6,6) | `SLV` | ç¨ŽçŽ‡ | NUMBER(8,5) | ç›´æŽ¥æ˜ å°„ |
| `tax_amount` | ç¨Žé¢ | number(8,6) | `SE` | ç¨Žé¢ | NUMBER(20,2) | ç›´æŽ¥æ˜ å°„ |
| `tax_classification_code` | å•†å“ç¨Žæ”¶åˆ†ç±»ç¼–ç  | string(19) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |
| `deduction_amount` | æ‰£é™¤é¢ | number(8,2) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰**ï¼Œå·®é¢å¾ç¨Ž |
| `item_short_name` | å•†å“æœåŠ¡ç®€ç§° | string(120) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |
| `product_barcode` | å•†å“æ¡ç  | string(300) | - | - | - | **æœ¬å…¬å¸ç‹¬æœ‰** |

**è¯´æ˜Ž**ï¼š
- é•¿è½¯APIä¸­æ˜Žç»†å­—æ®µçš„é‡‘é¢ã€ç¨Žé¢ã€ç¨ŽçŽ‡éƒ½æ˜¯NUMBERç±»åž‹ï¼Œå¯ä»¥ç›´æŽ¥æ˜ å°„
- å…¶ä»–å­—æ®µï¼ˆæ•°é‡ã€å•ä»·ï¼‰éƒ½æ˜¯å­—ç¬¦ä¸²ç±»åž‹
- æœ¬å…¬å¸ç‹¬æœ‰å­—æ®µéœ€è¦ä»Žä¸šåŠ¡ç³»ç»Ÿæˆ–Apifoxå®šä¹‰ä¸­èŽ·å–
- æ•°ç”µä¸“ç¥¨çš„æ˜Žç»†ç»“æž„ä¸Žä¼ ç»Ÿå¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨ï¼ˆ01ï¼‰å®Œå…¨ä¸€è‡´

---

## å››ã€æ•°æ®æ ¼å¼è½¬æ¢è¯´æ˜Ž

### 4.1 æ—¥æœŸæ ¼å¼è½¬æ¢

| API | æ ¼å¼ | ç¤ºä¾‹ |
|-----|------|------|
| æœ¬å…¬å¸API | `YYYY-MM-DD` æˆ– `YYYY-MM-DD HH:mm:ss` | 2025-12-30 æˆ– 2025-12-30 16:59:45 |
| é•¿è½¯API | `YYYYMMDD` | 20251230 |

**è½¬æ¢è§„åˆ™**ï¼š
```javascript
// é•¿è½¯ â†’ æœ¬å…¬å¸
function formatDate(yyyymmdd) {
  if (!yyyymmdd || yyyymmdd.length !== 8) return null;
  return `${yyyymmdd.substr(0,4)}-${yyyymmdd.substr(4,2)}-${yyyymmdd.substr(6,2)}`;
}
// ç¤ºä¾‹: "20251230" â†’ "2025-12-30"
```

### 4.2 æ•°å€¼ç±»åž‹è½¬æ¢

| æ•°æ®é¡¹ | æœ¬å…¬å¸API | é•¿è½¯API | è½¬æ¢è¯´æ˜Ž |
|--------|-----------|---------|----------|
| é‡‘é¢åˆè®¡ | æœ¬å…¬å¸ä»Žitemsè®¡ç®— | `VARCHAR2(32)` å­—ç¬¦ä¸² | é•¿è½¯JEå­—æ®µå­˜åœ¨ä½†æœ¬å…¬å¸ä¸ä½¿ç”¨ |
| ç¨Žé¢åˆè®¡ | `number` (18,2) | `VARCHAR2(32)` å­—ç¬¦ä¸² | é•¿è½¯â†’æœ¬å…¬å¸: `parseFloat()` |
| ä»·ç¨Žåˆè®¡ | `number` (18,2) | `VARCHAR2(32)` å­—ç¬¦ä¸² | é•¿è½¯â†’æœ¬å…¬å¸: `parseFloat()` |
| æ˜Žç»†é‡‘é¢ | `number` (8,2) | `NUMBER(20,2)` | ç±»åž‹ä¸€è‡´ï¼Œç›´æŽ¥æ˜ å°„ |
| æ˜Žç»†ç¨Žé¢ | `number` (8,6) | `NUMBER(20,2)` | ç²¾åº¦ä¸åŒï¼Œæ³¨æ„è½¬æ¢ |
| æ˜Žç»†ç¨ŽçŽ‡ | `number` (6,6) | `NUMBER(8,5)` | ç²¾åº¦ä¸åŒï¼Œæ³¨æ„è½¬æ¢ |

**è½¬æ¢ç¤ºä¾‹**ï¼š
```javascript
// é•¿è½¯APIè¿”å›ž
{
  "JE": "10000.00",      // é‡‘é¢åˆè®¡ï¼ˆå­—ç¬¦ä¸²ï¼‰
  "SE": "1300.00",       // ç¨Žé¢åˆè®¡ï¼ˆå­—ç¬¦ä¸²ï¼‰
  "JSHJ": "11300.00"     // ä»·ç¨Žåˆè®¡ï¼ˆå­—ç¬¦ä¸²ï¼‰
}

// è½¬æ¢ä¸ºæœ¬å…¬å¸API
{
  "total_tax_amount": 1300.00,
  "total_amount": 11300.00,
  "amount_with_tax_in_words": "å£¹ä¸‡å£¹ä»Ÿåä½°å…ƒæ•´"
}
```

### 4.3 å­—ç¬¦ä¸²é•¿åº¦é€‚é…

| å­—æ®µ | æœ¬å…¬å¸é•¿åº¦ | é•¿è½¯é•¿åº¦ | å¤„ç†ç­–ç•¥ |
|------|-----------|---------|----------|
| invoice_number | 20 | 20 | âœ… é•¿åº¦ä¸€è‡´ï¼Œæ•°ç”µç¥¨å·20ä½ |
| seller_tax_no | 20 | 26 | âš ï¸ é•¿è½¯æ›´å®½æ¾ï¼Œä½†å®žé™…18ä½å¤Ÿç”¨ |
| buyer_tax_no | 20 | 64 | âš ï¸ é•¿è½¯æ›´å®½æ¾ï¼Œä½†å®žé™…18ä½å¤Ÿç”¨ |
| buyer_name | 150 | 300 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œéœ€æ³¨æ„æˆªæ–­ |
| seller_name | 150 | 300 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œéœ€æ³¨æ„æˆªæ–­ |

---

## äº”ã€æžšä¸¾å€¼æ˜ å°„

### 5.1 é€šç”¨æžšä¸¾æ˜ å°„

é€šç”¨æžšä¸¾å€¼è¯¦è§: ðŸ“„ [00_é€šç”¨è¯´æ˜Ž_æžšä¸¾æ˜ å°„.md](./00_é€šç”¨è¯´æ˜Ž_æžšä¸¾æ˜ å°„.md)

åŒ…æ‹¬ï¼š
- **æŸ¥éªŒç»“æžœä»£ç ** (CYJGDM â†’ result_code)
- **ä½œåºŸæ ‡å¿—** (ZFBZ â†’ invoice_status)
- **ç‰¹æ®Šç¥¨ç§æ ‡å¿—** (TSPZBZ â†’ special_invoice_type)
- **æ¸…å•æ ‡å¿—** (QDBZ)
- **æ±‡æ€»ä»£å¼€æ ‡å¿—** (HZDK)

### 5.2 æ•°ç”µä¸“ç¥¨ç‰¹æœ‰æžšä¸¾æ˜ å°„

âš ï¸ **é‡è¦**: æ•°ç”µä¸“ç¥¨**æ²¡æœ‰ç‰¹æœ‰æžšä¸¾**ï¼Œæ‰€æœ‰æžšä¸¾éƒ½ä½¿ç”¨é€šç”¨æžšä¸¾æ˜ å°„ã€‚

ä½†éœ€è¦æ³¨æ„ä»¥ä¸‹ç‰¹æ®Šæƒ…å†µï¼š

#### 5.2.1 å‘ç¥¨ç±»åž‹åŒºåˆ† (QDLX)

æ•°ç”µå‘ç¥¨ç»Ÿä¸€ä½¿ç”¨é•¿è½¯ç±»åž‹ä»£ç 09ï¼Œé€šè¿‡QDLXå­—æ®µåŒºåˆ†å­ç±»åž‹ï¼š

| QDLXå€¼ | å«ä¹‰ | æœ¬å…¬å¸å‘ç¥¨ç±»åž‹ |
|-------|------|--------------|
| 20 | æ•°ç”µä¸“ç¥¨ï¼ˆç”µå­ï¼‰ | 81 |
| 10 | æ•°ç”µæ™®ç¥¨ï¼ˆç”µå­ï¼‰ | 82 |
| 01 | æ•°ç”µçº¸è´¨ä¸“ç¥¨ | 85 |
| 04 | æ•°ç”µçº¸è´¨æ™®ç¥¨ | 86 |
| 03 | æ•°ç”µæœºåŠ¨è½¦ï¼ˆç”µå­ï¼‰ | 83 |
| 15 | æ•°ç”µäºŒæ‰‹è½¦ï¼ˆç”µå­ï¼‰ | 84 |

**è¯´æ˜Ž**ï¼š
- é•¿è½¯åœ¨æ¶ˆæ¯å¤´ `HEAD/QDLX` è¿”å›žæ­¤å­—æ®µ
- **æœ¬æ˜ å°„è¡¨ä»…å¤„ç†QDLX=20ï¼ˆæ•°ç”µä¸“ç¥¨ï¼‰**
- å…¶ä»–QDLXå€¼åº”è·¯ç”±åˆ°å¯¹åº”çš„æ˜ å°„è¡¨

#### 5.2.2 å‘ç¥¨çŠ¶æ€çš„ç‰¹æ®Šæ€§

æ•°ç”µå‘ç¥¨çš„å‘ç¥¨çŠ¶æ€ï¼ˆZFBZï¼‰ä¸Žä¼ ç»Ÿå‘ç¥¨ä¸€è‡´ï¼Œä½†éœ€è¦æ³¨æ„ï¼š

| ZFBZå€¼ | å«ä¹‰ | è¯´æ˜Ž |
|-------|------|------|
| 0 æˆ– 1 | æ­£å¸¸ | æ•°ç”µç¥¨æ­£å¸¸çŠ¶æ€ |
| 2 | ä½œåºŸ | æ•°ç”µç¥¨ä½œåºŸï¼ˆå¾ˆå°‘è§ï¼‰ |
| 3 | çº¢å†² | çº¢å­—å‘ç¥¨ï¼ˆæ•°ç”µç¥¨å¸¸ç”¨ï¼‰ |
| 7 | éƒ¨åˆ†çº¢å†² | éƒ¨åˆ†çº¢å­— |
| 8 | å…¨é¢çº¢å†² | å…¨é¢çº¢å­— |

**æ•°ç”µç¥¨çš„ç‰¹æ®Šæ€§**ï¼š
- æ•°ç”µç¥¨å¾ˆå°‘ä½¿ç”¨"ä½œåºŸ"ï¼ˆZFBZ=2ï¼‰ï¼Œé€šå¸¸ä½¿ç”¨"çº¢å†²"ï¼ˆZFBZ=3ï¼‰
- çº¢å­—æ•°ç”µç¥¨ä¼šåœ¨ `original_blue_invoice_no` ä¸­è®°å½•è¢«çº¢å†²çš„è“å­—å‘ç¥¨å·

---

## å…­ã€æ•°ç”µä¸“ç¥¨ç‰¹æ®Šæ€§è¯´æ˜Ž

### 6.1 è¯¥ç±»åž‹çš„ç‹¬ç‰¹ç‰¹æ€§

1. **æ— å‘ç¥¨ä»£ç **
   - æ•°ç”µä¸“ç¥¨**æ²¡æœ‰å‘ç¥¨ä»£ç **å­—æ®µï¼ˆFPDMä¸ºç©ºï¼‰
   - ä»…æœ‰20ä½å‘ç¥¨å·ç ä½œä¸ºå”¯ä¸€æ ‡è¯†
   - è¿™æ˜¯ä¸Žä¼ ç»Ÿä¸“ç¥¨ï¼ˆ01ï¼‰çš„æœ€å¤§åŒºåˆ«

2. **æ— æ ¡éªŒç **
   - æ•°ç”µä¸“ç¥¨**æ²¡æœ‰æ ¡éªŒç **å­—æ®µï¼ˆJYMä¸ºç©ºï¼‰
   - é˜²ä¼ªéªŒè¯ä¾èµ–ç”µå­ç­¾åç­‰æŠ€æœ¯

3. **æ— ç¨ŽæŽ§è®¾å¤‡ä¿¡æ¯**
   - **æ²¡æœ‰æœºå™¨ç¼–å·**ï¼ˆJQBHä¸ºç©ºï¼‰
   - æ•°ç”µç¥¨é€šè¿‡ç”µå­ç¨ŽåŠ¡å±€å¼€å…·ï¼Œæ— éœ€ç¨ŽæŽ§è®¾å¤‡

4. **å››æ–¹ä¿¡æ¯ç®€åŒ–**
   - é•¿è½¯è¿”å›žçš„ `GFDZDH`ã€`GFYHZH`ã€`XFDZDH`ã€`XFYHZH` å‡ä¸º**ç©º**
   - æ•°ç”µç¥¨ä¸å¼ºåˆ¶è¦æ±‚åœ°å€ç”µè¯ã€å¼€æˆ·è¡Œè´¦å·ä¿¡æ¯
   - ä»…ä¿ç•™è´­é”€åŒæ–¹åç§°å’Œç¨Žå·

5. **å¯æŠµæ‰£è¿›é¡¹ç¨Ž**
   - æ•°ç”µä¸“ç¥¨ä¸Žä¼ ç»Ÿä¸“ç¥¨æ•ˆåŠ›ç›¸åŒï¼Œå¯ä»¥æŠµæ‰£è¿›é¡¹ç¨Žé¢
   - ä¸€èˆ¬çº³ç¨Žäººå–å¾—æ•°ç”µä¸“ç¥¨å¯æŒ‰ç¥¨é¢ç¨Žé¢æŠµæ‰£

6. **å¿…é¡»æœ‰è´§ç‰©æ˜Žç»†**
   - æ•°ç”µä¸“ç¥¨å¿…é¡»åŒ…å«è´§ç‰©æˆ–åº”ç¨ŽåŠ³åŠ¡æ˜Žç»†
   - CHILDLISTä¸èƒ½ä¸ºç©º
   - æ¯ä¸ªæ˜Žç»†è¡Œéœ€è¦åŒ…å«å®Œæ•´çš„ç¨ŽçŽ‡ã€ç¨Žé¢ä¿¡æ¯

7. **çº¢å­—å‘ç¥¨å¤„ç†**
   - æ•°ç”µç¥¨å¾ˆå°‘ä½œåºŸï¼Œé€šå¸¸é€šè¿‡å¼€å…·çº¢å­—å‘ç¥¨å†²é”€
   - çº¢å­—å‘ç¥¨éœ€è¦è®°å½•å¯¹åº”çš„åŽŸè“å­—å‘ç¥¨å·ç 

8. **æ•°ç”µç‰¹æœ‰å­—æ®µ**
   - `SDSKR`ï¼ˆæ•°ç”µå‘ç¥¨æ”¶æ¬¾äººï¼‰ï¼šå¯ç©º
   - `SDFHR`ï¼ˆæ•°ç”µå‘ç¥¨å¤æ ¸äººï¼‰ï¼šå¯ç©º
   - `SDSJBZ`ï¼ˆæ•°ç”µå‘ç¥¨å®žé™…å¤‡æ³¨ï¼‰ï¼šå¯ç©ºï¼Œå¯èƒ½ä¸ŽBZä¸åŒ

### 6.2 ä¸Žå…¶ä»–ç±»åž‹çš„åŒºåˆ«

| ç‰¹æ€§ | æ•°ç”µä¸“ç¥¨(81) | å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨(01) | ç”µå­ä¸“ç¥¨(08) | æ•°ç”µæ™®ç¥¨(82) |
|------|-------------|------------------|-------------|-------------|
| å‘ç¥¨ä»£ç  | âŒ æ—  | âœ… 12ä½ | âœ… 12ä½ | âŒ æ—  |
| å‘ç¥¨å·ç  | âœ… 20ä½ | âœ… 8ä½ | âœ… 8ä½ | âœ… 20ä½ |
| æ ¡éªŒç  | âŒ æ—  | âŒ æ—  | âŒ æ—  | âŒ æ—  |
| æŠµæ‰£ | âœ… å¯æŠµæ‰£ | âœ… å¯æŠµæ‰£ | âœ… å¯æŠµæ‰£ | âŒ ä¸å¯æŠµæ‰£ |
| æ˜Žç»†ç»“æž„ | âœ… æœ‰è´§ç‰©æ˜Žç»† | âœ… æœ‰è´§ç‰©æ˜Žç»† | âœ… æœ‰è´§ç‰©æ˜Žç»† | âœ… æœ‰è´§ç‰©æ˜Žç»† |
| å››æ–¹ä¿¡æ¯ | âš ï¸ ç®€åŒ– | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âš ï¸ ç®€åŒ– |
| å‘ç¥¨ä»‹è´¨ | ç”µå­ | çº¸è´¨ | ç”µå­ | ç”µå­ |
| é•¿è½¯ç±»åž‹ç  | 09 (QDLX=20) | 01 | 20 | 09 (QDLX=10) |
| ç¨ŽæŽ§è®¾å¤‡ | âŒ æ—  | âœ… æœ‰ | âœ… æœ‰ | âŒ æ—  |

### 6.3 ç‰¹æ®Šå¤„ç†é€»è¾‘

#### 6.3.1 å‘ç¥¨ç±»åž‹è¯†åˆ«

ç”±äºŽé•¿è½¯å¯¹æ‰€æœ‰æ•°ç”µç¥¨ç»Ÿä¸€è¿”å›žç±»åž‹ç 09ï¼Œå¿…é¡»é€šè¿‡QDLXåŒºåˆ†ï¼š

```javascript
// ä¼ªä»£ç ï¼šæ•°ç”µå‘ç¥¨ç±»åž‹è¯†åˆ«
function identifyDigitalInvoiceType(head) {
  const fplx = head.FPLX;  // "09"
  const qdlx = head.QDLX;  // æ•°ç”µå­ç±»åž‹

  if (fplx !== '09') {
    return null;  // éžæ•°ç”µå‘ç¥¨
  }

  const mapping = {
    '20': '81',  // æ•°ç”µä¸“ç¥¨
    '10': '82',  // æ•°ç”µæ™®ç¥¨
    '01': '85',  // æ•°ç”µçº¸è´¨ä¸“ç¥¨
    '04': '86',  // æ•°ç”µçº¸è´¨æ™®ç¥¨
    '03': '83',  // æ•°ç”µæœºåŠ¨è½¦
    '15': '84'   // æ•°ç”µäºŒæ‰‹è½¦
  };

  return mapping[qdlx] || null;
}
```

#### 6.3.2 å››æ–¹ä¿¡æ¯å¤„ç†

æ•°ç”µç¥¨çš„å››æ–¹ä¿¡æ¯ç®€åŒ–ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼š

```javascript
// ä¼ªä»£ç ï¼šæ•°ç”µç¥¨å››æ–¹ä¿¡æ¯å¤„ç†
function processDigitalInvoiceParties(body) {
  return {
    // è´­æ–¹ä¿¡æ¯
    buyer_name: body.GFMC,
    buyer_tax_no: body.GFSBH,
    buyer_address: null,        // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    buyer_phone: null,          // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    buyer_bank_name: null,      // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    buyer_account_number: null, // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ

    // é”€æ–¹ä¿¡æ¯
    seller_name: body.XFMC,
    seller_tax_no: body.XFSBH,
    seller_address: null,        // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    seller_phone: null,          // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    seller_bank_name: null,      // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    seller_account_number: null, // æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
    seller_taxpayer_type_code: '1'  // æ•°ç”µä¸“ç¥¨ä¸€èˆ¬éƒ½æ˜¯ä¸€èˆ¬çº³ç¨Žäºº
  };
}
```

#### 6.3.3 é‡‘é¢è®¡ç®—éªŒè¯

æ•°ç”µç¥¨çš„é‡‘é¢è®¡ç®—ä¸Žä¼ ç»Ÿå‘ç¥¨ä¸€è‡´ï¼š

```javascript
// ä¼ªä»£ç ï¼šéªŒè¯æ•°ç”µä¸“ç¥¨é‡‘é¢é€»è¾‘
function validateDigitalInvoiceAmount(body) {
  const totalAmount = parseFloat(body.JSHJ);     // ä»·ç¨Žåˆè®¡
  const totalTax = parseFloat(body.SE);          // ç¨Žé¢åˆè®¡
  const totalGross = parseFloat(body.JE);        // é‡‘é¢åˆè®¡ï¼ˆé•¿è½¯è¿”å›žï¼‰

  // éªŒè¯ï¼šä»·ç¨Žåˆè®¡ = é‡‘é¢åˆè®¡ + ç¨Žé¢åˆè®¡
  const calculated = totalGross + totalTax;
  const diff = Math.abs(calculated - totalAmount);

  if (diff > 0.02) {  // å…è®¸2åˆ†é’±è¯¯å·®
    console.warn(`æ•°ç”µç¥¨é‡‘é¢è®¡ç®—ä¸ä¸€è‡´: ${calculated} != ${totalAmount}`);
  }

  // æ˜Žç»†é‡‘é¢éªŒè¯
  const items = body.CHILDLIST.CHILD;
  const itemsGross = items.reduce((sum, item) => sum + parseFloat(item.JE || 0), 0);
  const itemsTax = items.reduce((sum, item) => sum + parseFloat(item.SE || 0), 0);

  return {
    total_amount: totalAmount,
    total_tax_amount: totalTax,
    is_valid: diff <= 0.02
  };
}
```

#### 6.3.4 çº¢å­—å‘ç¥¨å¤„ç†

æ•°ç”µç¥¨çš„çº¢å­—å¤„ç†é€»è¾‘ï¼š

```javascript
// ä¼ªä»£ç ï¼šæ•°ç”µçº¢å­—å‘ç¥¨å¤„ç†
function processRedInvoice(body, zfbz) {
  const isRedInvoice = ['3', '7', '8'].includes(zfbz);

  return {
    is_blue_invoice: isRedInvoice ? 'N' : 'Y',
    invoice_status: parseInt(zfbz),

    // çº¢å­—å‘ç¥¨éœ€è¦è®°å½•åŽŸè“å­—å‘ç¥¨å·
    // æ³¨æ„ï¼šé•¿è½¯09ç±»åž‹æš‚ä¸è¿”å›žåŽŸç¥¨å·ï¼Œéœ€ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–
    original_blue_invoice_no: isRedInvoice ?
      getOriginalBlueInvoiceNo(body.FPHM) : null
  };
}
```

---

## ä¸ƒã€é›†æˆæ³¨æ„äº‹é¡¹

### 7.1 å¿…å¡«å­—æ®µå¯¹æ¯”

**é•¿è½¯APIè¦æ±‚å¿…å¡«**ï¼ˆä½†æœ¬å…¬å¸APIå¯é€‰ï¼‰:
- æ— ç‰¹æ®Šè¦æ±‚

**æœ¬å…¬å¸APIè¦æ±‚å¿…å¡«**ï¼ˆä½†é•¿è½¯APIå¯é€‰ï¼‰:
- `invoice_number` (å‘ç¥¨å·ç ) - å¿…å¡«ï¼Œ20ä½æ•°å­—
- `seller_name` (é”€å”®æ–¹åç§°) - å¿…å¡«
- `buyer_name` (è´­ä¹°æ–¹åç§°) - å¿…å¡«
- `total_amount` (ä»·ç¨Žåˆè®¡) - å¿…å¡«
- `total_tax_amount` (åˆè®¡ç¨Žé¢) - å¿…å¡«
- `amount_with_tax_in_words` (ä»·ç¨Žåˆè®¡å¤§å†™) - å¿…å¡«ï¼Œéœ€è‡ªè¡Œè®¡ç®—
- `is_blue_invoice` (è“å­—/çº¢å­—æ ‡è¯†) - å¿…å¡«ï¼Œä»ŽZFBZæŽ¨æ–­
- `invoice_status` (å‘ç¥¨çŠ¶æ€) - å¿…å¡«ï¼Œä»ŽZFBZæ˜ å°„

### 7.2 å­—æ®µé•¿åº¦å·®å¼‚

| å­—æ®µ | æœ¬å…¬å¸é•¿åº¦ | é•¿è½¯é•¿åº¦ | å®žé™…é£Žé™©è¯„ä¼° |
|------|-----------|---------|------------|
| invoice_number | 20 | 20 | âœ… é•¿åº¦ä¸€è‡´ï¼Œæ•°ç”µç¥¨å·20ä½ |
| seller_tax_no | 20 | 26 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œä½†ä¸­å›½ç¨Žå·18ä½ï¼Œ20ä½è¶³å¤Ÿ |
| buyer_tax_no | 20 | 64 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œä½†ä¸­å›½ç¨Žå·18ä½ï¼Œ20ä½è¶³å¤Ÿ |
| buyer_name | 150 | 300 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œéœ€æˆªæ–­è¶…é•¿åç§° |
| seller_name | 150 | 300 | âš ï¸ é•¿è½¯æ›´å¤§ï¼Œéœ€æˆªæ–­è¶…é•¿åç§° |

### 7.3 æ•°æ®å®Œæ•´æ€§

**é•¿è½¯ç‹¬æœ‰å­—æ®µ**ï¼ˆæœ¬å…¬å¸APIæ— å¯¹åº”ï¼‰:
- `CYCS` (æŸ¥éªŒæ¬¡æ•°) - é•¿è½¯ç»Ÿè®¡æŸ¥éªŒæ¬¡æ•°
- `CYSJ` (æŸ¥éªŒæ—¶é—´) - é•¿è½¯æŸ¥éªŒæ—¶é—´æˆ³
- `JE` (é‡‘é¢åˆè®¡) - é•¿è½¯è¿”å›žï¼Œæœ¬å…¬å¸ä»Žitemsè®¡ç®—
- `FPDM` (å‘ç¥¨ä»£ç ) - æ•°ç”µç¥¨ä¸ºç©º
- `JQBH` (æœºå™¨ç¼–å·) - æ•°ç”µç¥¨ä¸ºç©º
- `JYM` (æ ¡éªŒç ) - æ•°ç”µç¥¨ä¸ºç©º
- `GFDZDH` (è´­æ–¹åœ°å€ç”µè¯) - æ•°ç”µç¥¨ä¸ºç©º
- `GFYHZH` (è´­æ–¹å¼€æˆ·è¡Œè´¦å·) - æ•°ç”µç¥¨ä¸ºç©º
- `XFDZDH` (é”€æ–¹åœ°å€ç”µè¯) - æ•°ç”µç¥¨ä¸ºç©º
- `XFYHZH` (é”€æ–¹å¼€æˆ·è¡Œè´¦å·) - æ•°ç”µç¥¨ä¸ºç©º
- `QDBZ` (æ¸…å•æ ‡å¿—) - æ˜¯å¦æœ‰é”€è´§æ¸…å•
- `HZDK` (æ±‡æ€»ä»£å¼€æ ‡å¿—) - æ˜¯å¦æ±‡æ€»ä»£å¼€
- `SDSJBZ` (æ•°ç”µå‘ç¥¨å®žé™…å¤‡æ³¨) - æ•°ç”µç¥¨ç‰¹æœ‰å¤‡æ³¨

**æœ¬å…¬å¸ç‹¬æœ‰å­—æ®µ**ï¼ˆéœ€ä»Žå…¶ä»–æ•°æ®æºèŽ·å–ï¼‰:
- `amount_with_tax_in_words` (ä»·ç¨Žåˆè®¡å¤§å†™) - ä»Žtotal_amountè®¡ç®—
- `item_count` (æ˜Žç»†æ¡æ•°) - ä»Žitemsæ•°ç»„é•¿åº¦è®¡ç®—
- `is_blue_invoice` (è“å­—/çº¢å­—æ ‡è¯†) - ä»ŽZFBZæŽ¨æ–­
- `original_blue_invoice_no` (åŽŸè“å­—å‘ç¥¨å·) - ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–
- `paper_invoice_no` (çº¸è´¨å‘ç¥¨å·ç ) - æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
- `invoice_code` (å‘ç¥¨ä»£ç ) - æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
- `issuer` (å¼€ç¥¨äºº) - æ•°ç”µç¥¨æ— æ­¤å­—æ®µ
- `seller_taxpayer_type_code` (é”€æ–¹çº³ç¨Žäººç±»åž‹) - å›ºå®šä¸º"1"ï¼ˆä¸€èˆ¬çº³ç¨Žäººï¼‰
- `deduction_amount` (æ‰£é™¤é¢) - ä»Žitemsè®¡ç®—
- `settlement_method_code` (ç»“ç®—æ–¹å¼) - ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–
- `vat_immediate_refund_code` (å³å¾å³é€€ä»£ç ) - ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–
- `export_tax_refund_type_code` (å‡ºå£é€€ç¨Žç±»ä»£ç ) - ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–
- `refined_oil_abnormal_flag` (æˆå“æ²¹å¼‚å¸¸æ ‡è¯†) - éžæˆå“æ²¹å›ºå®šä¸º"9"
- `tax_classification_code` (å•†å“ç¨Žæ”¶åˆ†ç±»ç¼–ç ) - ä»Žä¸šåŠ¡ç³»ç»ŸèŽ·å–

### 7.4 æ•°ç”µä¸“ç¥¨ç‰¹æ®Šé›†æˆè¦ç‚¹

âš ï¸ **è¿™æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå¿…é¡»æ ¹æ®ä¸šåŠ¡ç‰¹æ€§è¯¦ç»†è¯´æ˜Žï¼**

#### 7.4.1 å‘ç¥¨ç±»åž‹è·¯ç”±

**æŒ‘æˆ˜**ï¼šé•¿è½¯å¯¹æ‰€æœ‰æ•°ç”µç¥¨ç»Ÿä¸€è¿”å›žç±»åž‹ç 09ï¼Œéœ€è¦æ ¹æ®QDLXè·¯ç”±åˆ°æ­£ç¡®çš„å¤„ç†å™¨ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `HEAD/FPLX` æ˜¯å¦ä¸º "09"
2. æ£€æŸ¥ `HEAD/QDLX` çš„å€¼
3. æ ¹æ®QDLXè·¯ç”±ï¼š
   - QDLX=20 â†’ ä½¿ç”¨æœ¬æ˜ å°„è¡¨ï¼ˆæ•°ç”µä¸“ç¥¨ï¼‰
   - QDLX=10 â†’ è·¯ç”±åˆ°æ•°ç”µæ™®ç¥¨æ˜ å°„è¡¨
   - QDLX=01 â†’ è·¯ç”±åˆ°æ•°ç”µçº¸è´¨ä¸“ç¥¨æ˜ å°„è¡¨
   - å…¶ä»–å€¼ â†’ è¿”å›žä¸æ”¯æŒçš„æ•°ç”µç±»åž‹é”™è¯¯

**ä¸šåŠ¡èƒŒæ™¯**ï¼š
- æ•°ç”µå‘ç¥¨æ˜¯ä¸­å›½ç¨ŽåŠ¡æ€»å±€æŽ¨å‡ºçš„å…¨ç”µå‘ç¥¨ï¼Œé€šè¿‡ç”µå­ç¨ŽåŠ¡å±€å¼€å…·
- é•¿è½¯ç³»ç»Ÿå°†æ‰€æœ‰æ•°ç”µå‘ç¥¨å½’ä¸ºä¸€ä¸ªå¤§ç±»ï¼ˆ09ï¼‰ï¼Œé€šè¿‡QDLXç»†åˆ†
- æœ¬å…¬å¸APIéœ€è¦å°†æ•°ç”µä¸“ç¥¨æ˜ å°„ä¸ºç‹¬ç«‹ç±»åž‹ï¼ˆ81ï¼‰

#### 7.4.2 å››æ–¹ä¿¡æ¯ç¼ºå¤±å¤„ç†

**æŒ‘æˆ˜**ï¼šæ•°ç”µç¥¨ç®€åŒ–äº†å››æ–¹ä¿¡æ¯ï¼Œé•¿è½¯è¿”å›žçš„åœ°å€ç”µè¯ã€å¼€æˆ·è¡Œè´¦å·å‡ä¸ºç©ºã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **æŽ¥å—ç©ºå€¼**ï¼šbuyer_addressã€buyer_phoneç­‰å­—æ®µè¿”å›žnull
2. **ä¸šåŠ¡è§„åˆ™è¡¥å…¨**ï¼ˆå¯é€‰ï¼‰ï¼š
   - å¦‚æžœä¸šåŠ¡ç³»ç»Ÿå·²æœ‰è´­é”€åŒæ–¹å®Œæ•´ä¿¡æ¯ï¼Œå¯ä»Žä¸šåŠ¡ç³»ç»Ÿè¡¥å…¨
   - å¦‚æžœæ— æ³•è¡¥å…¨ï¼Œè¿”å›žnullï¼Œä¸å½±å“æŸ¥éªŒç»“æžœ
3. **å‰ç«¯æç¤º**ï¼šåœ¨å±•ç¤ºæ•°ç”µç¥¨æ—¶ï¼Œæç¤ºç”¨æˆ·"æ•°ç”µç¥¨æ— éœ€æä¾›è¯¦ç»†åœ°å€ç”µè¯"

**æ³¨æ„äº‹é¡¹**ï¼š
- ä¸è¦å› ä¸ºå››æ–¹ä¿¡æ¯ç¼ºå¤±è€Œè®¤ä¸ºæŸ¥éªŒå¤±è´¥
- æ•°ç”µç¥¨çš„ç®€åŒ–æ˜¯ç¨ŽåŠ¡æ€»å±€çš„æ”¿ç­–è¦æ±‚ï¼Œå±žäºŽæ­£å¸¸çŽ°è±¡
- åªè¦è´­é”€åŒæ–¹åç§°å’Œç¨Žå·ä¸€è‡´å³å¯

#### 7.4.3 å‘ç¥¨å·ç å”¯ä¸€æ€§

**æŒ‘æˆ˜**ï¼šæ•°ç”µç¥¨æ— å‘ç¥¨ä»£ç ï¼Œä»…é 20ä½å‘ç¥¨å·ç è¯†åˆ«ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **å­˜å‚¨ç­–ç•¥**ï¼š
   - invoice_number: 20ä½å‘ç¥¨å·ç ï¼ˆä¸»é”®ï¼‰
   - invoice_code: nullï¼ˆæ•°ç”µç¥¨æ— ä»£ç ï¼‰
   - invoice_type: "81"ï¼ˆæ ‡è¯†ä¸ºæ•°ç”µä¸“ç¥¨ï¼‰

2. **æŸ¥è¯¢ç­–ç•¥**ï¼š
   - ç”¨æˆ·æŸ¥éªŒæ—¶åªéœ€æä¾›å‘ç¥¨å·ç 
   - ä¸éœ€è¦æä¾›å‘ç¥¨ä»£ç å’Œæ ¡éªŒç 
   - å¼€ç¥¨æ—¥æœŸå’Œé‡‘é¢ä½œä¸ºè¾…åŠ©éªŒè¯

3. **åŽ»é‡ç­–ç•¥**ï¼š
   - ä»¥ (invoice_number, invoice_type) ä½œä¸ºå”¯ä¸€é”®
   - åŒä¸€å¼ æ•°ç”µç¥¨çš„å¤šæ¬¡æŸ¥éªŒåº”èƒ½è¯†åˆ«ä¸ºåŒä¸€å¼ ç¥¨

#### 7.4.4 çº¢å­—å‘ç¥¨é“¾æ¡è¿½è¸ª

**æŒ‘æˆ˜**ï¼šæ•°ç”µç¥¨çº¢å­—å‘ç¥¨éœ€è¦è¿½è¸ªåŽŸè“å­—å‘ç¥¨ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **è¯†åˆ«çº¢å­—å‘ç¥¨**ï¼š
   - æ£€æŸ¥ `ZFBZ` æ˜¯å¦ä¸º 3/7/8
   - è®¾ç½® `is_blue_invoice = 'N'`

2. **è®°å½•åŽŸç¥¨ä¿¡æ¯**ï¼ˆéœ€è¦ä¸šåŠ¡ç³»ç»Ÿæ”¯æŒï¼‰ï¼š
   - `original_blue_invoice_no`: åŽŸè“å­—å‘ç¥¨å·ç 
   - å»ºç«‹çº¢è“å­—å‘ç¥¨å…³è”å…³ç³»

3. **çº¢å­—åˆ—è¡¨å¤„ç†**ï¼š
   - é•¿è½¯09ç±»åž‹æš‚ä¸è¿”å›žçº¢å­—åˆ—è¡¨ï¼ˆHZLISTï¼‰
   - éœ€è¦ä»Žä¸šåŠ¡ç³»ç»Ÿç»´æŠ¤çº¢è“å­—å…³ç³»

**ä¸šåŠ¡èƒŒæ™¯**ï¼š
- æ•°ç”µç¥¨ä¸æ”¯æŒä½œåºŸï¼Œåªèƒ½é€šè¿‡çº¢å­—å‘ç¥¨å†²é”€
- ä¸€å¼ è“å­—å‘ç¥¨å¯èƒ½å¯¹åº”å¤šå¼ éƒ¨åˆ†çº¢å­—å‘ç¥¨
- éœ€è¦å»ºç«‹å®Œæ•´çš„çº¢è“å­—å‘ç¥¨é“¾æ¡è¿½è¸ªæœºåˆ¶

#### 7.4.5 æ˜Žç»†æ•°æ®å®Œæ•´æ€§éªŒè¯

**æŒ‘æˆ˜**ï¼šç¡®ä¿æ˜Žç»†æ•°æ®ä¸Žæ±‡æ€»æ•°æ®ä¸€è‡´ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
ä¸Žä¼ ç»Ÿä¸“ç¥¨ç›¸åŒï¼Œå‚è§ [æœ¬å…¬å¸01_å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨â†’é•¿è½¯01.md](./æœ¬å…¬å¸01_å¢žå€¼ç¨Žä¸“ç”¨å‘ç¥¨â†’é•¿è½¯01.md) ç¬¬7.4.2èŠ‚ã€‚

---

## å‚è€ƒæ–‡æ¡£

1. æœ¬å…¬å¸APIå®šä¹‰: `invoice_verification.apifox.json` (Definition ID: 231697052)
2. é•¿è½¯APIæ–‡æ¡£: `ã€é•¿è½¯ã€‘å‘ç¥¨æŸ¥éªŒæœåŠ¡è°ƒç”¨è¯´æ˜ŽV4.0.16.pdf` (ç¬¬13-14é¡µ)
3. é€šç”¨æžšä¸¾æ˜ å°„: `00_é€šç”¨è¯´æ˜Ž_æžšä¸¾æ˜ å°„.md`
4. é€šç”¨è¯·æ±‚å‚æ•°æ˜ å°„: `00_é€šç”¨è¯´æ˜Ž_è¯·æ±‚å‚æ•°æ˜ å°„.md`
5. å›½å®¶ç¨ŽåŠ¡æ€»å±€å…¨ç”µå‘ç¥¨å¹³å°: https://etax.chinatax.gov.cn/

---

**æ–‡æ¡£ç»“æŸ**
